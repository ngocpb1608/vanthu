<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <title>{{ APP_NAME }}</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    :root{
      --bg:#f6f9fb; --card:#ffffff; --brand:#22a6f2; --brand-weak:#e6f4ff;
      --ring:#e2e8f0; --text:#334155; --muted:#6b7280;
      --ok:#10b981; --warn:#f59e0b; --blue:#3b82f6; --rose:#ef4444;
      --blue-weak:#dbeafe; --warn-weak:#fef3c7;
    }
    *{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--text);font:15px/1.5 system-ui, -apple-system, Segoe UI, Roboto}
    a{color:var(--blue);text-decoration:none} a:hover{text-decoration:underline}
    .wrap{max-width:1200px;margin:0 auto;padding:16px}
    .topbar{display:flex;gap:8px;align-items:center;justify-content:space-between;margin:6px 0 14px}
    .title{font-weight:700;font-size:22px}
    .nav a{padding:8px 10px;border-radius:10px;background:var(--brand-weak)}
    .card{background:var(--card);border:1px solid var(--ring);border-radius:14px;padding:14px}
    .heading{margin:0 0 10px;font-weight:700}
    .row{display:grid;gap:10px}.cols-6{grid-template-columns:repeat(6,1fr)}
    .ipt{width:100%;padding:9px 10px;border-radius:10px;border:1px solid var(--ring);background:#fff}
    .btn{border:1px solid var(--ring);background:#fff;border-radius:10px;padding:8px 12px;cursor:pointer}
    .btn.brand{background:var(--brand);border-color:var(--brand);color:#fff}
    .btn.small{padding:6px 8px;font-size:13px}
    table{width:100%;border-collapse:collapse}
    th,td{border-bottom:1px solid var(--ring);padding:8px 10px;text-align:left}
    th{position:sticky;top:0;background:#f8fafc;z-index:1}
    .chip{display:inline-block;padding:6px 10px;border-radius:999px;border:1px solid var(--ring);background:#fff}
    .stat-card{border-radius:12px;border:1px solid var(--ring);padding:10px}
    .stat-blue{background:var(--blue-weak)} .stat-amber{background:var(--warn-weak)}
    .stat-title{font-weight:700;margin-bottom:6px}
    .num{font-size:26px;font-weight:800}
    .list{max-height:240px;overflow:auto;border:1px solid var(--ring);border-radius:10px;background:#fff}
    .muted{color:var(--muted)}
    .flash{margin:8px 0;padding:8px 12px;border:1px solid var(--ring);border-radius:10px;background:#fafcff}
    @media (max-width:900px){.cols-6{grid-template-columns:1fr 1fr}}
    @media (max-width:640px){.cols-6{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="topbar">
      <a href="{{ url_for('dashboard') }}" class="title">üìÇ {{ APP_NAME }}</a>
      <div class="nav">
        {% if current_user.is_authenticated %}
          {% if current_user.role == 'admin' %}
            <a href="{{ url_for('congvan_new') }}">+ Th√™m c√¥ng vƒÉn</a>
            <a href="{{ url_for('users') }}">üë§ Qu·∫£n l√Ω t√†i kho·∫£n</a>
          {% endif %}
          <a href="{{ url_for('logout') }}">ƒêƒÉng xu·∫•t</a>
        {% endif %}
      </div>
    </div>

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for cat,msg in messages %}<div class="flash">{{ msg }}</div>{% endfor %}
      {% endif %}
    {% endwith %}

    {% block content %}{% endblock %}
  </div>
</body>
</html>
